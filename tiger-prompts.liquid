{% comment %}
  Tiger Prompts v12.1 ‚Äî CODING AI SELECTOR
  
  NEW in v12.1:
  - Separate dropdown for "Which AI are you coding with?"
  - Coding AI tips injection (Claude, GPT-5, Cursor, etc.)
  - Standardized tooltips
{% endcomment %}

{{ 'tiger-prompts.css' | asset_url | stylesheet_tag }}
{{ 'tiger-prompts.js' | asset_url | script_tag }}

<section id="tiger-prompts" class="tp-app">
  <div class="tp-layout">
    
    <aside id="tp-sidebar" class="tp-sidebar">
      
      <div class="tp-sidebar-head">
        <div class="tp-sidebar-brand">
          <img 
            id="tp-sidebar-logo" 
            class="tp-sidebar-logo"
            src="https://cdn.shopify.com/s/files/1/0705/7326/0982/files/ChatGPT_Image_Nov_5_2025_at_07_29_59_PM.png?v=1762399837"
            alt="Tiger Prompts">
          <span class="tp-sidebar-title">Tiger Prompts</span>
        </div>
        <button 
          id="tp-sidebar-toggle" 
          class="tp-iconbtn" 
          title="Collapse sidebar">
          <span class="tp-icon">‚óÄ</span>
        </button>
      </div>
      
      <nav class="tp-nav">
        
        <div class="tp-nav-section">
          <div class="tp-nav-title">
            Vibe Coding
            <span class="tp-tooltip" data-tooltip="Perfect for development work! Track files, tech stack, and code context so AI understands your project structure and coding patterns">‚ìò</span>
          </div>
          
          <div class="tp-toggle-item tp-toggle-vibe" id="tp-vibe-coding-toggle">
            <div class="tp-toggle-content">
              <span class="tp-icon">üíª</span>
              <span>Vibe Coding Mode</span>
              <span class="tp-tooltip" data-tooltip="Enable this when working on code. Opens context drawer to define files, languages, and existing code">‚ìò</span>
            </div>
            <div class="tp-toggle-switch">
              <div class="tp-toggle-knob"></div>
            </div>
          </div>
        </div>
        
        <div class="tp-nav-section">
          <div class="tp-nav-title">
            Enhancement Engine
            <span class="tp-tooltip" data-tooltip="Control how your prompts are enhanced. LLM mode uses OpenAI for smart improvements. Choose depth based on task complexity">‚ìò</span>
          </div>
          
          <div class="tp-field-group">
            <label class="tp-field-label">
              Enhancement Depth
              <span class="tp-tooltip" data-tooltip="Light: Quick polish for simple tasks. Deep: Full restructuring for complex projects. Use Deep for coding sessions!">‚ìò</span>
            </label>
            <select id="tp-enhancement-depth" class="tp-select">
              <option value="light" selected>‚ú® Light (Quick Polish)</option>
              <option value="deep">üî• Deep (Full Structure)</option>
            </select>
          </div>
          
          <div class="tp-toggle-item tp-toggle-orange" id="tp-auto-run-toggle">
            <div class="tp-toggle-content">
              <span class="tp-icon">‚ñ∂</span>
              <span>Auto-Run Prompts</span>
              <span class="tp-tooltip" data-tooltip="Automatically execute enhanced prompts through your selected LLM. Turn OFF if you want to review before running">‚ìò</span>
            </div>
            <div class="tp-toggle-switch">
              <div class="tp-toggle-knob"></div>
            </div>
          </div>
          <div class="tp-toggle-hint">Run enhanced prompt through LLM automatically</div>
          
          <div class="tp-field-group">
            <label class="tp-field-label">
              AI Agent Enhancer
              <span class="tp-tooltip" data-tooltip="This AI will ENHANCE your prompt (not do the actual coding). The coding AI is set in Vibe Coding settings.">‚ìò</span>
            </label>
            <select id="tp-llm-select" class="tp-select">
              <option value="gpt-4o-mini">ChatGPT 4o-mini</option>
              <option value="gpt-4o">ChatGPT 4o (Best) üíé</option>
              <option value="claude-sonnet" disabled>Claude Sonnet (Soon)</option>
              <option value="copilot" disabled>Copilot (Soon)</option>
            </select>
            <div class="tp-model-hint" id="tp-model-hint">‚ö° Fast & efficient</div>
          </div>
          
          <details class="tp-advanced-settings">
            <summary class="tp-advanced-summary">
              <span class="tp-icon">‚öô</span>
              Advanced Settings
            </summary>
            <div class="tp-advanced-content">
              <div class="tp-toggle-item tp-toggle-orange" id="tp-llm-toggle">
                <div class="tp-toggle-content">
                  <span class="tp-icon">ü§ñ</span>
                  <span>LLM Agent Mode</span>
                  <span class="tp-tooltip" data-tooltip="Use OpenAI API for enhancement. Turn OFF for offline local mode (less powerful but works without internet)">‚ìò</span>
                </div>
                <div class="tp-toggle-switch">
                  <div class="tp-toggle-knob"></div>
                </div>
              </div>
              <div class="tp-toggle-hint">Use OpenAI for enhancement (recommended)</div>
            </div>
          </details>
        </div>
        
        <div class="tp-nav-section">
          <div class="tp-nav-title">
            Display
            <span class="tp-tooltip" data-tooltip="Control what information is shown in your enhancement results">‚ìò</span>
          </div>
          <button id="tp-explain-toggle" class="tp-btn tp-btn--ghost">
            <span class="tp-icon">üéì</span>
            <span>Show Explanations</span>
            <span class="tp-tooltip" data-tooltip="Show detailed breakdown of what was improved in your prompt. Great for learning!">‚ìò</span>
          </button>
          <button id="tp-pqs-toggle" class="tp-btn tp-btn--ghost">
            <span class="tp-icon">üìä</span>
            <span>Show PQS Score</span>
            <span class="tp-tooltip" data-tooltip="Display Prompt Quality Score - a metric showing how well-structured your prompt is (0-1 scale)">‚ìò</span>
          </button>
        </div>
        
        <div class="tp-nav-section">
          <div class="tp-nav-title">
            Settings
            <span class="tp-tooltip" data-tooltip="Customize your Tiger Prompts experience">‚ìò</span>
          </div>
          <button id="tp-theme-toggle" class="tp-btn tp-btn--ghost">
            <span class="tp-icon">üåô</span>
            <span>Toggle Theme</span>
          </button>
          <button id="tp-reset" class="tp-btn tp-btn--ghost">
            <span class="tp-icon">‚Ü∫</span>
            <span>Clear History</span>
          </button>
        </div>
        
        <div class="tp-nav-section tp-nav-section--saved">
          <div class="tp-nav-title">
            Saved Prompts
            <span class="tp-tooltip" data-tooltip="Access your bookmarked enhanced prompts. Click any saved prompt to load it back into the input">‚ìò</span>
          </div>
          <div id="tp-saved-list" class="tp-saved-list">
            <div class="tp-saved-empty">No saved prompts yet</div>
          </div>
        </div>
        
      </nav>
      
      <button id="tp-collapse-tab" class="tp-collapse-tab" title="Expand sidebar">
        <span class="tp-icon">‚ñ∂</span>
      </button>
      
    </aside>
    
    <main class="tp-main">
      <div class="tp-container">
        
        <!-- LOGO - Hides after first message -->
        <div id="tp-logo-wrap" class="tp-logo-wrap">
          <img 
            id="tp-logo" 
            class="tp-logo tp-logo-light"
            src="https://cdn.shopify.com/s/files/1/0705/7326/0982/files/ChatGPT_Image_Nov_5_2025_at_07_36_00_PM.png?v=1762400176"
            alt="Tiger Prompts">
          <img 
            id="tp-logo-dark" 
            class="tp-logo tp-logo-dark"
            src="https://cdn.shopify.com/s/files/1/0705/7326/0982/files/white-version-tiger-logo-half-half.png?v=1762551640"
            alt="Tiger Prompts"
            style="display: none;">
        </div>
        
        <!-- PATHWAY CONFIRMATION BANNER -->
        <div id="tp-pathway-banner" class="tp-pathway-banner" style="display: none;">
          <div class="tp-pathway-icon"></div>
          <div class="tp-pathway-text"></div>
          <button class="tp-pathway-close">
            <span class="tp-icon">‚úï</span>
          </button>
        </div>
        
        <!-- EMPTY STATE / TEMPLATES -->
        <div id="tp-empty-state" class="tp-empty-state">
          <div class="tp-welcome">
            <p class="tp-welcome-subtitle">Transform prompts into powerful AI instructions</p>
            <div class="tp-welcome-flow">
              <span class="tp-flow-step">‚ú® Enhance</span>
              <span class="tp-icon">‚Üí</span>
              <span class="tp-flow-step">üìã Copy</span>
              <span class="tp-icon">‚Üí</span>
              <span class="tp-flow-step">üöÄ Run</span>
            </div>
          </div>
          
          <div class="tp-templates">
            <h3 class="tp-templates-title">üöÄ Quick Start Templates</h3>
            <div class="tp-templates-grid">
              <button class="tp-template" data-template="fresh-session">
                <div class="tp-template-icon">üöÄ</div>
                <div class="tp-template-content">
                  <div class="tp-template-name">Fresh Coding Session</div>
                  <div class="tp-template-desc">Start new project with context</div>
                </div>
              </button>
              
              <button class="tp-template" data-template="code-feature">
                <div class="tp-template-icon">üíª</div>
                <div class="tp-template-content">
                  <div class="tp-template-name">Code Feature</div>
                  <div class="tp-template-desc">Build new functionality</div>
                </div>
              </button>
              
              <button class="tp-template" data-template="fix-bug">
                <div class="tp-template-icon">üêõ</div>
                <div class="tp-template-content">
                  <div class="tp-template-name">Fix Bug</div>
                  <div class="tp-template-desc">Debug and resolve issues</div>
                </div>
              </button>
              
              <button class="tp-template" data-template="draft-email">
                <div class="tp-template-icon">üìß</div>
                <div class="tp-template-content">
                  <div class="tp-template-name">Draft Email</div>
                  <div class="tp-template-desc">Professional communication</div>
                </div>
              </button>
              
              <button class="tp-template" data-template="write-content">
                <div class="tp-template-icon">‚úçÔ∏è</div>
                <div class="tp-template-content">
                  <div class="tp-template-name">Write Content</div>
                  <div class="tp-template-desc">Articles, blogs, copy</div>
                </div>
              </button>
              
              <button class="tp-template" data-template="analyze-data">
                <div class="tp-template-icon">üìä</div>
                <div class="tp-template-content">
                  <div class="tp-template-name">Analyze Data</div>
                  <div class="tp-template-desc">Insights and reports</div>
                </div>
              </button>
              
              <button class="tp-template" data-template="research">
                <div class="tp-template-icon">üîç</div>
                <div class="tp-template-content">
                  <div class="tp-template-name">Research Query</div>
                  <div class="tp-template-desc">Deep dive information</div>
                </div>
              </button>
              
              <button class="tp-template" data-template="social-media">
                <div class="tp-template-icon">üì±</div>
                <div class="tp-template-content">
                  <div class="tp-template-name">Social Media</div>
                  <div class="tp-template-desc">Captions and posts</div>
                </div>
              </button>
              
              <button class="tp-template" data-template="brainstorm">
                <div class="tp-template-icon">üí°</div>
                <div class="tp-template-content">
                  <div class="tp-template-name">Brainstorm</div>
                  <div class="tp-template-desc">Ideas and concepts</div>
                </div>
              </button>
            </div>
          </div>
        </div>
        
        <!-- RESULTS THREAD - Main focus -->
        <div id="tp-thread" class="tp-thread"></div>
        
        <!-- INPUT FIELD -->
        <div class="tp-input-container">
          <div class="tp-input-wrap">
            <textarea 
              id="tp-input" 
              class="tp-input" 
              placeholder="Message Tiger Prompts..."
              rows="1"></textarea>
            
            <div class="tp-input-actions">
              <button id="tp-vibe-drawer-toggle" class="tp-vibe-cog" title="Vibe Coding Settings" style="display: none;">
                <span class="tp-icon">‚öô</span>
              </button>
              
              <button id="tp-voice" class="tp-voice" title="Voice Input (Coming Soon)">
                <span class="tp-icon">üé§</span>
              </button>
              
              <button id="tp-send" class="tp-send" title="Send">
                <span class="tp-icon">‚Üë</span>
              </button>
            </div>
          </div>
        </div>
        
        <!-- FOOTER -->
        <footer class="tp-footer">
          <div class="tp-footer-content">
            <div id="tp-status-indicator" class="tp-status-indicator ready">
              ‚úÖ Ready
            </div>
          </div>
        </footer>
        
      </div>
    </main>
    
  </div>
</section>

<!-- MODEL GUIDE MODAL -->
<div id="tp-model-guide-modal" class="tp-model-guide-modal" style="display: none;">
  <div class="tp-modal-overlay"></div>
  <div class="tp-modal-content tp-model-modal">
    <div class="tp-modal-header">
      <h3>
        <span class="tp-icon">ü§ñ</span>
        Model Comparison Guide
      </h3>
      <button id="tp-model-guide-close" class="tp-modal-close">
        <span class="tp-icon">‚úï</span>
      </button>
    </div>
    <div class="tp-modal-body">
      <div class="tp-model-card">
        <div class="tp-model-card-header">
          <div class="tp-model-card-title">
            <span class="tp-model-badge">‚ö°</span>
            <span>ChatGPT 4o-mini</span>
          </div>
          <span class="tp-model-speed tp-model-fast">Fast</span>
        </div>
        <div class="tp-model-card-body">
          <div class="tp-model-row">
            <strong>Best for:</strong> Quick tasks, simple prompts, everyday use
          </div>
          <div class="tp-model-row">
            <strong>Personality:</strong> Efficient, straightforward, practical
          </div>
          <div class="tp-model-row">
            <strong>Use when:</strong> Writing emails, quick edits, simple code snippets
          </div>
          <div class="tp-model-pros">
            ‚úì Lightning fast responses<br>
            ‚úì Great for iteration<br>
            ‚úì Perfect for simple tasks<br>
            ‚úì Cost-effective
          </div>
        </div>
      </div>
      
      <div class="tp-model-card tp-model-card--pro">
        <div class="tp-model-card-header">
          <div class="tp-model-card-title">
            <span class="tp-model-badge">üíé</span>
            <span>ChatGPT 4o</span>
          </div>
          <span class="tp-model-speed tp-model-premium">Premium</span>
        </div>
        <div class="tp-model-card-body">
          <div class="tp-model-row">
            <strong>Best for:</strong> Complex reasoning, production code, detailed analysis
          </div>
          <div class="tp-model-row">
            <strong>Personality:</strong> Thoughtful, thorough, comprehensive
          </div>
          <div class="tp-model-row">
            <strong>Use when:</strong> Building features, debugging complex issues, architecture decisions
          </div>
          <div class="tp-model-pros">
            ‚úì Highest quality responses<br>
            ‚úì Best for production code<br>
            ‚úì Superior reasoning ability<br>
            ‚úì Handles complex contexts
          </div>
        </div>
      </div>
      
      <div class="tp-model-card tp-model-card--coming">
        <div class="tp-model-card-header">
          <div class="tp-model-card-title">
            <span class="tp-model-badge">üîÆ</span>
            <span>Claude Sonnet</span>
          </div>
          <span class="tp-model-speed tp-model-coming">Coming Soon</span>
        </div>
        <div class="tp-model-card-body">
          <div class="tp-model-row">
            <strong>Best for:</strong> Creative writing, nuanced content, documentation
          </div>
          <div class="tp-model-row">
            <strong>Personality:</strong> Articulate, careful, well-structured
          </div>
          <div class="tp-model-row">
            <strong>Use when:</strong> Writing docs, content creation, detailed explanations
          </div>
        </div>
      </div>
      
      <div class="tp-model-card tp-model-card--coming">
        <div class="tp-model-card-header">
          <div class="tp-model-card-title">
            <span class="tp-model-badge">‚ö°</span>
            <span>Copilot</span>
          </div>
          <span class="tp-model-speed tp-model-coming">Coming Soon</span>
        </div>
        <div class="tp-model-card-body">
          <div class="tp-model-row">
            <strong>Best for:</strong> Code completion, in-editor assistance, debugging
          </div>
          <div class="tp-model-row">
            <strong>Personality:</strong> Code-focused, practical, context-aware
          </div>
          <div class="tp-model-row">
            <strong>Use when:</strong> Integrated development, autocomplete, refactoring
          </div>
        </div>
      </div>
    </div>
  </div>
</div>

<!-- VIBE CODING DRAWER - WITH CODING AI SELECTOR -->
<div id="tp-vibe-drawer" class="tp-vibe-drawer">
  <div class="tp-drawer-overlay"></div>
  <div class="tp-drawer-content">
    <div class="tp-drawer-header">
      <h3>
        <span class="tp-icon">üíª</span>
        Vibe Coding Context
      </h3>
      <button id="tp-drawer-close" class="tp-drawer-close">
        <span class="tp-icon">‚úï</span>
      </button>
    </div>
    
    <div class="tp-drawer-body">
      
      <!-- NEW: CODING AI SELECTOR -->
      <div class="tp-context-field">
        <label>
          Which AI are you coding with?
          <span class="tp-tooltip" data-tooltip="Select the AI you'll use for ACTUAL CODING (not prompt enhancement). We'll inject optimization tips specific to this AI.">‚ìò</span>
        </label>
        <select id="tp-coding-ai-select" class="tp-context-input" style="cursor: pointer;">
          <option value="claude-sonnet">Claude Sonnet</option>
          <option value="gpt-5">GPT-5 / ChatGPT</option>
          <option value="cursor">Cursor</option>
          <option value="github-copilot">GitHub Copilot</option>
          <option value="windsurf">Windsurf</option>
        </select>
      </div>
      
      <div class="tp-context-field">
        <label>File Names (comma-separated):</label>
        <input 
          type="text" 
          id="tp-file-defs" 
          class="tp-context-input"
          placeholder="tiger-prompts.js, tiger-prompts.css, tiger-prompts.liquid" />
      </div>
      
      <div class="tp-context-row">
        <label class="tp-context-checkbox">
          <input type="checkbox" id="tp-ctx-existing" />
          <span>I'm modifying existing code</span>
        </label>
      </div>
      
      <textarea 
        id="tp-ctx-code" 
        class="tp-context-textarea"
        placeholder="Paste your existing code here..."
        style="display: none;"
        rows="6"></textarea>
      
      <div class="tp-context-languages">
        <label class="tp-context-label">Languages:</label>
        <div class="tp-language-grid">
          <label class="tp-language-checkbox"><input type="checkbox" value="javascript" /> JavaScript</label>
          <label class="tp-language-checkbox"><input type="checkbox" value="typescript" /> TypeScript</label>
          <label class="tp-language-checkbox"><input type="checkbox" value="react" /> React</label>
          <label class="tp-language-checkbox"><input type="checkbox" value="vue" /> Vue</label>
          <label class="tp-language-checkbox"><input type="checkbox" value="python" /> Python</label>
          <label class="tp-language-checkbox"><input type="checkbox" value="java" /> Java</label>
          <label class="tp-language-checkbox"><input type="checkbox" value="csharp" /> C#</label>
          <label class="tp-language-checkbox"><input type="checkbox" value="php" /> PHP</label>
          <label class="tp-language-checkbox"><input type="checkbox" value="ruby" /> Ruby</label>
          <label class="tp-language-checkbox"><input type="checkbox" value="go" /> Go</label>
          <label class="tp-language-checkbox"><input type="checkbox" value="html" /> HTML</label>
          <label class="tp-language-checkbox"><input type="checkbox" value="css" /> CSS</label>
          <label class="tp-language-checkbox"><input type="checkbox" value="liquid" /> Liquid</label>
        </div>
      </div>
      
      <div class="tp-context-row">
        <label class="tp-context-checkbox">
          <input type="checkbox" id="tp-ctx-tests" />
          <span>Include test cases</span>
        </label>
      </div>
    </div>
    
    <!-- ACTIONS MOVED OUTSIDE SCROLLABLE BODY -->
    <div class="tp-drawer-actions">
      <button id="tp-drawer-save" class="tp-drawer-save-btn">
        <span class="tp-icon">‚úì</span>
        Save & Continue
      </button>
    </div>
  </div>
</div>

{% schema %}
{
  "name": "Tiger Prompts v12.1",
  "settings": [
    {
      "type": "header",
      "content": "Tiger Prompts v12.1 - CODING AI SELECTOR"
    },
    {
      "type": "paragraph",
      "content": "New: Select which AI you're coding with for optimized tips"
    },
    {
      "type": "text",
      "id": "title",
      "label": "Section Title",
      "default": "Tiger Prompts",
      "info": "Internal reference for section"
    },
    {
      "type": "checkbox",
      "id": "show_sidebar",
      "label": "Show Sidebar",
      "default": true,
      "info": "Display the sidebar with navigation controls"
    },
    {
      "type": "checkbox",
      "id": "dark_mode",
      "label": "Enable Dark Mode by Default",
      "default": true,
      "info": "Start with dark theme enabled"
    },
    {
      "type": "checkbox",
      "id": "show_pqs",
      "label": "Show PQS Scores by Default",
      "default": true,
      "info": "Display Prompt Quality Scores"
    },
    {
      "type": "header",
      "content": "Branding"
    },
    {
      "type": "image_picker",
      "id": "main_logo",
      "label": "Main Logo"
    },
    {
      "type": "image_picker",
      "id": "sidebar_logo",
      "label": "Sidebar Logo"
    }
  ],
  "presets": [
    {
      "name": "Tiger Prompts v12.1",
      "category": "Custom"
    }
  ]
}
{% endschema %}
