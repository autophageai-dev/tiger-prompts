{% comment %}
  Tiger Prompts v9.0 ‚Äî LLM Agent Mode + Vibe Coding Tools
  
  NEW Features:
  - LLM Agent Mode (ON by default) with Light/Deep enhancement
  - Synced Vibe Coding Mode (purple themed)
  - Code Explainer, Refactor Advisor, Bug Hunter, Doc Generator, Test Writer
{% endcomment %}

<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">

{{ 'tiger-prompts.css' | asset_url | stylesheet_tag }}
{{ 'tiger-prompts.js' | asset_url | script_tag }}

<section id="tiger-prompts" class="tp-app">
  <div class="tp-layout">
    
    <aside id="tp-sidebar" class="tp-sidebar">
      
      <div class="tp-sidebar-head">
        <div class="tp-sidebar-brand">
          <img 
            id="tp-sidebar-logo" 
            class="tp-sidebar-logo"
            src="https://cdn.shopify.com/s/files/1/0705/7326/0982/files/ChatGPT_Image_Nov_5_2025_at_07_29_59_PM.png?v=1762399837"
            alt="Tiger Prompts">
          <span class="tp-sidebar-title">Tiger Prompts</span>
        </div>
        <button 
          id="tp-sidebar-toggle" 
          class="tp-iconbtn" 
          title="Collapse sidebar">
          <i class="fa-solid fa-chevron-left"></i>
        </button>
      </div>
      
      <div class="tp-tpem-badge">
        <div>‚ö° TPEM-2.0</div>
        <div class="tp-tpem-version">LLM Agent Mode + Vibe Coding</div>
      </div>
      
      <nav class="tp-nav">
        
        <div class="tp-nav-section">
          <div class="tp-nav-title">Appearance</div>
          <button id="tp-theme-toggle" class="tp-btn tp-btn--black">
            <i class="fa-solid fa-moon"></i>
            <span>Toggle Theme</span>
          </button>
        </div>
        
        <div class="tp-nav-section">
          <div class="tp-nav-title">Enhancement Engine</div>
          <button id="tp-llm-agent-toggle" class="tp-btn tp-btn--ghost active">
            <i class="fa-solid fa-robot"></i>
            <span>LLM Agent Mode</span>
          </button>
          <div id="tp-llm-submodes" class="tp-llm-submodes">
            <button id="tp-llm-light" class="tp-btn tp-btn--ghost active" data-mode="light">
              <i class="fa-solid fa-feather"></i>
              <span>Light Enhancement</span>
            </button>
            <button id="tp-llm-deep" class="tp-btn tp-btn--ghost" data-mode="deep">
              <i class="fa-solid fa-layer-group"></i>
              <span>Deep Enhancement</span>
            </button>
          </div>
        </div>
        
        <div class="tp-nav-section">
          <div class="tp-nav-title">Settings</div>
          <button id="tp-explain-toggle" class="tp-btn tp-btn--ghost">
            <i class="fa-solid fa-graduation-cap"></i>
            <span>Explain Changes</span>
          </button>
          <button id="tp-pqs-toggle" class="tp-btn tp-btn--ghost">
            <i class="fa-solid fa-chart-line"></i>
            <span>Show PQS Score</span>
          </button>
        </div>
        
        <div class="tp-nav-section">
          <div class="tp-nav-title">Quick Presets</div>
          <div class="tp-preset-item" data-preset="code">
            <div class="tp-preset-name"><i class="fa-solid fa-code"></i> Code Assistant</div>
            <div class="tp-preset-desc">Software engineering tasks</div>
          </div>
          <div class="tp-preset-item" data-preset="copy">
            <div class="tp-preset-name"><i class="fa-solid fa-pen-fancy"></i> Copywriting</div>
            <div class="tp-preset-desc">Marketing & content</div>
          </div>
          <div class="tp-preset-item" data-preset="analyze">
            <div class="tp-preset-name"><i class="fa-solid fa-magnifying-glass-chart"></i> Analysis</div>
            <div class="tp-preset-desc">Deep reasoning tasks</div>
          </div>
        </div>
        
        <div class="tp-nav-section">
          <div class="tp-nav-title">Saved Prompts</div>
          <div id="tp-saved-list" class="tp-saved-list">
            <div style="font-size: 11px; opacity: 0.5; padding: 8px;">No saved prompts yet</div>
          </div>
        </div>
        
        <div class="tp-nav-section">
          <div class="tp-nav-title">Actions</div>
          <button id="tp-reset" class="tp-btn tp-btn--ghost">
            <i class="fa-solid fa-rotate-right"></i>
            <span>Reset</span>
          </button>
        </div>
        
        <div class="tp-nav-section">
          <div class="tp-nav-title">Support</div>
          <a href="https://buymeacoffee.com/tigerprompts" 
             target="_blank" 
             class="tp-btn tp-btn--orange"
             title="Tip What It's Worth">
            <i class="fa-solid fa-mug-hot"></i>
            <span>Tip What It's Worth</span>
          </a>
        </div>
        
      </nav>
      
      <button id="tp-collapse-tab" class="tp-collapse-tab" title="Expand sidebar">
        <i class="fa-solid fa-chevron-right"></i>
      </button>
      
    </aside>
    
    <main class="tp-main">
      <div class="tp-container">
        
        <div class="tp-logo-wrap">
          <img 
            id="tp-logo" 
            class="tp-logo"
            src="https://cdn.shopify.com/s/files/1/0705/7326/0982/files/ChatGPT_Image_Nov_5_2025_at_07_36_00_PM.png?v=1762400176"
            alt="Tiger Prompts">
        </div>
        
        <div class="tp-input-wrap">
          <textarea 
            id="tp-input" 
            class="tp-input" 
            placeholder="Enter your prompt... (Press Enter to enhance)"
            rows="1"></textarea>
          
          <div class="tp-input-actions">
            <button id="tp-mic" class="tp-mic" title="Voice Input (Coming Soon)">
              <i class="fa-solid fa-microphone"></i>
            </button>
            
            <button id="tp-send" class="tp-send" title="Enhance Prompt">
              <i class="fa-solid fa-paper-plane"></i>
            </button>
          </div>
          
          <div id="tp-live-pqs" class="tp-live-pqs" style="display: none;">
            PQS: --
          </div>
        </div>
        
        <div id="tp-vibe-coding-mode" class="tp-vibe-coding-mode" title="Click to toggle Vibe Coding Mode">
          <div class="tp-vibe-toggle">
            <div class="tp-vibe-toggle-knob"></div>
          </div>
          <div class="tp-vibe-label">
            <div class="tp-vibe-label-main">
              <i class="fa-solid fa-code"></i>
              <span>Vibe Coding Mode</span>
            </div>
            <div class="tp-vibe-label-sub">
              AI-powered coding assistance with radical transparency
            </div>
          </div>
        </div>
        
        <div id="tp-vibe-context" class="tp-vibe-context" style="display: none;">
          <div class="tp-context-header">
            <i class="fa-solid fa-sliders"></i>
            <span>Vibe Coding Context (Optional - for better results)</span>
          </div>
          
          <div class="tp-context-body">
            <div class="tp-context-field">
              <label>File Names (comma-separated - e.g., app.js, styles.css, index.html):</label>
              <input 
                type="text" 
                id="tp-file-defs" 
                class="tp-context-input"
                placeholder="tiger-prompts.js, tiger-prompts.css, tiger-prompts.liquid" />
              <small style="font-size: 11px; color: var(--text-muted); margin-top: 4px; display: block;">
                AI will be instructed to never change these filenames
              </small>
            </div>
            
            <div class="tp-context-row">
              <label class="tp-context-checkbox">
                <input type="checkbox" id="tp-ctx-existing" />
                <span>I'm modifying existing code</span>
              </label>
            </div>
            
            <textarea 
              id="tp-ctx-code" 
              class="tp-context-textarea"
              placeholder="Paste your existing code here... (helps AI match your style and avoid breaking changes)"
              style="display: none;"
              rows="6"></textarea>
            
            <div class="tp-context-row tp-context-grid">
              <div class="tp-context-field">
                <label>Languages (select multiple):</label>
                <select id="tp-ctx-language" class="tp-context-select" multiple size="3">
                  <option value="javascript">JavaScript</option>
                  <option value="typescript">TypeScript</option>
                  <option value="react">React</option>
                  <option value="vue">Vue</option>
                  <option value="angular">Angular</option>
                  <option value="python">Python</option>
                  <option value="java">Java</option>
                  <option value="csharp">C#</option>
                  <option value="cpp">C++</option>
                  <option value="php">PHP</option>
                  <option value="ruby">Ruby</option>
                  <option value="go">Go</option>
                  <option value="rust">Rust</option>
                  <option value="swift">Swift</option>
                  <option value="kotlin">Kotlin</option>
                  <option value="html">HTML</option>
                  <option value="css">CSS</option>
                  <option value="sql">SQL</option>
                  <option value="liquid">Liquid</option>
                </select>
              </div>
              
              <div class="tp-context-field">
                <label class="tp-context-checkbox">
                  <input type="checkbox" id="tp-ctx-tests" />
                  <span>Include test cases</span>
                </label>
              </div>
            </div>
          </div>
        </div>
        
        <div id="tp-thread" class="tp-thread"></div>
        
        <div class="tp-vibe-tools-section">
          <div class="tp-vibe-tools-header">
            <h3>
              <i class="fa-solid fa-wand-magic-sparkles"></i>
              Vibe Coding Tools
            </h3>
            <p>AI-powered utilities to supercharge your development workflow</p>
          </div>
          
          <div class="tp-vibe-tools-grid">
            
            <div class="tp-vibe-tool" id="tp-tool-explainer">
              <div class="tp-vibe-tool-icon">üîç</div>
              <div class="tp-vibe-tool-content">
                <h4>Code Explainer</h4>
                <p>Get clear explanations of any code snippet</p>
              </div>
            </div>
            
            <div class="tp-vibe-tool" id="tp-tool-refactor">
              <div class="tp-vibe-tool-icon">üîß</div>
              <div class="tp-vibe-tool-content">
                <h4>Refactor Advisor</h4>
                <p>AI-powered improvement suggestions</p>
              </div>
            </div>
            
            <div class="tp-vibe-tool" id="tp-tool-bug-hunter">
              <div class="tp-vibe-tool-icon">üêõ</div>
              <div class="tp-vibe-tool-content">
                <h4>Bug Hunter</h4>
                <p>Analyze code for potential issues</p>
              </div>
            </div>
            
            <div class="tp-vibe-tool" id="tp-tool-doc-gen">
              <div class="tp-vibe-tool-icon">üìù</div>
              <div class="tp-vibe-tool-content">
                <h4>Doc Generator</h4>
                <p>Auto-generate documentation</p>
              </div>
            </div>
            
            <div class="tp-vibe-tool" id="tp-tool-test-writer">
              <div class="tp-vibe-tool-icon">üß™</div>
              <div class="tp-vibe-tool-content">
                <h4>Test Writer</h4>
                <p>Generate comprehensive test cases</p>
              </div>
            </div>
            
          </div>
        </div>
        
        <div id="tp-vibe-tool-modal" class="tp-vibe-tool-modal" style="display: none;">
          <div class="tp-modal-overlay"></div>
          <div class="tp-modal-content">
            <div class="tp-modal-header">
              <h3 id="tp-modal-title">Tool Name</h3>
              <button id="tp-modal-close" class="tp-modal-close">
                <i class="fa-solid fa-xmark"></i>
              </button>
            </div>
            <div class="tp-modal-body">
              <textarea 
                id="tp-modal-input" 
                class="tp-modal-textarea"
                placeholder="Paste your code here..."
                rows="12"></textarea>
              <button id="tp-modal-submit" class="tp-btn tp-btn--orange tp-modal-submit">
                <i class="fa-solid fa-paper-plane"></i>
                Analyze Code
              </button>
            </div>
            <div id="tp-modal-results" class="tp-modal-results" style="display: none;">
              <div class="tp-modal-results-header">
                <i class="fa-solid fa-check-circle"></i>
                <span>Analysis Complete</span>
              </div>
              <div id="tp-modal-results-content" class="tp-modal-results-content"></div>
            </div>
          </div>
        </div>
        
        <div class="tp-validator-section">
          <div class="tp-validator-header">
            <h3>
              <i class="fa-solid fa-shield-check"></i>
              AI Response Validator
            </h3>
            <p>Paste the code your AI generated to check for common issues (truncation, missing imports, etc.)</p>
          </div>
          
          <textarea 
            id="tp-validate-input" 
            class="tp-validate-input"
            placeholder="Paste the code Claude/ChatGPT gave you here..."
            rows="10"></textarea>
          
          <button id="tp-validate-btn" class="tp-btn tp-btn--orange tp-validate-btn">
            <i class="fa-solid fa-magnifying-glass"></i>
            Check Code Quality
          </button>
          
          <div id="tp-validate-results" class="tp-validate-results" style="display: none;">
          </div>
        </div>
        
        <footer class="tp-footer">
          <div class="tp-footer-content">
            <div id="tp-status-indicator" class="tp-status-indicator ready">
              ‚úÖ Ready
            </div>
            <div class="tp-footer-branding">
              Powered by <a href="https://autophage.ai" target="_blank" rel="noopener">Autophage.ai</a>
            </div>
          </div>
        </footer>
        
      </div>
    </main>
    
  </div>
</section>

{% schema %}
{
  "name": "Tiger Prompts",
  "settings": [
    {
      "type": "header",
      "content": "Tiger Prompts v9.0 Settings"
    },
    {
      "type": "paragraph",
      "content": "Enhanced with LLM Agent Mode and Vibe Coding Tools"
    },
    {
      "type": "text",
      "id": "title",
      "label": "Section Title",
      "default": "Tiger Prompts",
      "info": "Internal reference for section"
    },
    {
      "type": "text",
      "id": "openai_api_key",
      "label": "OpenAI API Key",
      "info": "Your OpenAI API key for LLM Agent Mode"
    },
    {
      "type": "checkbox",
      "id": "show_sidebar",
      "label": "Show Sidebar",
      "default": true,
      "info": "Display the sidebar with navigation controls"
    },
    {
      "type": "checkbox",
      "id": "dark_mode",
      "label": "Enable Dark Mode by Default",
      "default": false,
      "info": "Start with dark theme enabled"
    },
    {
      "type": "checkbox",
      "id": "show_pqs",
      "label": "Show PQS Scores by Default",
      "default": true,
      "info": "Display Prompt Quality Scores"
    },
    {
      "type": "checkbox",
      "id": "llm_agent_default",
      "label": "Enable LLM Agent Mode by Default",
      "default": true,
      "info": "Use OpenAI for prompt enhancement"
    },
    {
      "type": "header",
      "content": "Branding"
    },
    {
      "type": "image_picker",
      "id": "main_logo",
      "label": "Main Logo"
    },
    {
      "type": "image_picker",
      "id": "sidebar_logo",
      "label": "Sidebar Logo"
    }
  ],
  "presets": [
    {
      "name": "Tiger Prompts v9.0",
      "category": "Custom"
    }
  ]
}
{% endschema %}
